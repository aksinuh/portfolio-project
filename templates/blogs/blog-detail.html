{% extends 'base.html' %}
{% load static %}

{% block title %}
    <title>{{ post.title }} - Blog Detail - John Smith</title>
{% endblock title %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'assets/css/blog-detail.css' %}">
{% endblock styles %}

{% block header %}
    {% include 'includes/header-2.html' %}
{% endblock header %}

{% block content %}
    <!-- Blog Detail Content -->
    <div class="blog-detail-container">
        <main class="blog-detail">
            <header class="blog-detail-header">
                <h1 class="blog-detail-title">{{ post.title }}</h1>
                <div class="blog-detail-meta">
                    <div class="meta-item">
                        <i class="far fa-calendar"></i>
                        <span>{{ post.published_date|date:"d F Y" }}</span>
                    </div>
                    <div class="meta-item">
                        <i class="far fa-clock"></i>
                        <span>{{ post.reading_time }} dəq oxuma müddəti</span>
                    </div>
                    <div class="meta-item">
                        <i class="far fa-folder"></i>
                        <span>{{ post.post_type }}</span>
                    </div>
                </div>
                
                <div class="blog-tags">
                    {% for tag in post.tags.all %}
                    <span class="tag">{{ tag.name }}</span>
                    {% endfor %}
                </div>
            </header>

            <article class="blog-detail-content">
                <!-- Table of Contents -->
                {% if toc_headings %}
                <div class="toc">
                    <h3 class="toc-title"><i class="fas fa-list"></i> Məzmun</h3>
                    <ul class="toc-list">
                        {% for heading in toc_headings %}
                        <li class="toc-item">
                            <a href="#{{ heading.id }}" class="toc-link">{{ heading.text }}</a>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}

                <!-- Dinamik Məzmun -->
                {{ post.content|safe }}
            </article>

            <div class="blog-actions">
                <a href="{% url 'blog' %}" class="back-to-blog">
                    <i class="fas fa-arrow-left"></i>
                    Blog səhifəsinə qayıt
                </a>
                
                <div class="share-section">
                        <div class="share-header">
                            <i class="fas fa-share-alt"></i>
                            <span class="share-title">Paylaş:</span>
                        </div>
                        
                        <div class="share-buttons">
                            <!-- Sosial media butonları -->
                            <button class="share-btn fb" onclick="shareOnFacebook()" title="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </button>
                            
                            <button class="share-btn tw" onclick="shareOnTwitter()" title="Twitter">
                                <i class="fab fa-twitter"></i>
                            </button>
                            
                            <button class="share-btn in" onclick="shareOnLinkedIn()" title="LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </button>
                            
                            <button class="share-btn wa" onclick="shareOnWhatsApp()" title="WhatsApp">
                                <i class="fab fa-whatsapp"></i>

                            </button>
                            
                            <button class="share-btn tg" onclick="shareOnTelegram()" title="Telegram">
                                <i class="fab fa-telegram-plane"></i>
                            </button>
                            
                            <button class="share-btn copy" onclick="copyToClipboard()" title="Linki Kopyala">
                                <i class="fas fa-link"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Kopyalama bildirişi -->
                <div id="copy-notification" class="copy-notification">
                    <i class="fas fa-check"></i>
                    <span>Link kopyalandı!</span>
                </div>
            </div>
        </main>
    </div>
{% endblock content %}

{% block scripts %}
    <script src="{% static 'assets/js/blog-detail.js' %}"></script>
{% endblock scripts %}